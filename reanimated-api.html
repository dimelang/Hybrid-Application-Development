<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Reanimated API - Hybrid Application Development</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Hybrid Application Development</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="reanimated-api"><a class="header" href="#reanimated-api">Reanimated API</a></h1>
<p>Merupakan library pihak ketiga untuk membuat animasi dengan performa tinggi di React Native. Reanimated memungkinkan kita untuk menjalankan logika animasi langsung di native thread, sehingga animasi tetap halus bahkan ketika JavaScript thread sibuk. <code>Reanimated</code> sangat cocok digunakan untuk animasi interaktif dan kompleks seperti:</p>
<ul>
<li>Drag &amp; drop</li>
<li>Gesture-based animations (dengan <code>react-native-gesture-handler</code>)</li>
<li>Scroll animations</li>
<li>Transition antar halaman</li>
</ul>
<p>Sebelum menggunakan <a href="https://docs.swmansion.com/react-native-reanimated/"><code>Reanimated</code></a>, terdapat beberapa hal yang perlu dilakukan yaitu instalasi dependency dan melakukan rebuild plugin.</p>
<h2 id="instalasi"><a class="header" href="#instalasi">Instalasi</a></h2>
<pre><code class="language-bash">npm install react-native-reanimated react-native-worklets
</code></pre>
<h2 id="rebuild"><a class="header" href="#rebuild">Rebuild</a></h2>
<p><strong>Expo</strong></p>
<p>Jalankan perintah berikut pada terminal</p>
<pre><code class="language-bash">npx expo prebuild
</code></pre>
<p><strong>React Native CLI</strong></p>
<p>Tambahkan plugin <code>react-native-worklets/plugin</code> secara manual pada file <code>babel.config.js</code>. Pastikan <code>react-native-worklets/</code> berada di baris paling akhir.</p>
<pre><code class="language-js">module.exports = {
presets: [
    ... // don't add it here :)
],
plugins: [
    ...
    'react-native-worklets/plugin',
],
};
</code></pre>
<p>Khusus penggunaan <code>web</code> yang dibangun menggunakan React native CLI, selain wajib menambahkan <code>react-native-web</code> dan <code>react-dom</code>, kita perlu menambahkan plugin <code>@babel/plugin-proposal-export-namespace-from</code> lalu rebuild dengan cara menambahkan plugin tersebut ke <code>babel.config.js</code>.</p>
<pre><code class="language-bash">npm install @babel/plugin-proposal-export-namespace-from
</code></pre>
<pre><code class="language-js">module.exports = {
    presets: [
    ... // don't add it here :)
    ],
    plugins: [
        ...
        '@babel/plugin-proposal-export-namespace-from',
        'react-native-worklets/plugin',
    ],
};
</code></pre>
<p><code>Reanimated</code> memiliki beberapa konsep dasar yang perlu diketahui:</p>
<h3 id="usesharedvalue"><a class="header" href="#usesharedvalue"><code>useSharedValue</code></a></h3>
<p>Digunakan untuk menginisialisasi nilai numerik yang bisa berubah tanpa menyebabkan re-<em>render</em> React. Mirip seperti <code>Animated.Value()</code>, tapi lebih efisien karena berjalan di native thread. Untuk mengakses data pada <em>shared value</em>, kita dapat menggunakan property <code>value</code>.</p>
<pre><code class="language-tsx">const animation_value = useSharedValue(0);  // inisialisasi shared value
animation_value.value = 1; // mengubah shared value

const animation_value = useSharedValue({x: 0, y: 0});  // inisialisasi shared value
animation_value.value = {x: 50, y: -20}; // mengubah shared value

const animation_value = useSharedValue([1, 2, 3]);  // inisialisasi shared value
animation_value.value.push(4);
animation_value.value = [...animation_value.value, 1000]
</code></pre>
<h3 id="useanimatedstyle"><a class="header" href="#useanimatedstyle"><code>useAnimatedStyle</code></a></h3>
<p>Digunakan untuk membuat <code>object style</code> animasi. Mirip seperti <code>StyleSheet</code> namun, nilainya diambil dari <em>shared value</em>. Setiap kali nilai berubah, style akan diperbarui otomatis di native layer.</p>
<pre><code class="language-tsx">const animatedStyle = useAnimatedStyle(() =&gt; {
  return { opacity: opacity.value };
});
</code></pre>
<h3 id="useanimatedprops"><a class="header" href="#useanimatedprops"><code>useAnimatedProps</code></a></h3>
<p>Memiliki fungsi yang mirip seperti <code>useAnimatedStyle</code>, tetapi bukan untuk style melainkan untuk <code>props</code> dari komponen yang dapat dianimasikan seperti <code>progress</code> pada <code>Animated.ProgressBar</code>, <code>strokeDashoffset</code> pada <code>SVG</code>, atau <code>text</code> pada <code>Animated.TextInput</code>. Artinya, kita dapat memberikan animasi pada suatu komponen jika property yang ingin dianimasikan bukan bagian dari style. Reanimated akan mengupdate props tersebut secara langsung dari native thread sehingga komponen react tidak mengalami re-<em>render</em>.</p>
<pre><code class="language-tsx">const animatedProps = useAnimatedProps(() =&gt; {
  return {
    propertyName: someSharedValue.value,
  };
});
</code></pre>
<p>Kemudian digunakan di komponen Animated.<Component> seperti ini (misalnya pada komponen View):</p>
<pre><code class="language-tsx">&lt;Animated.View animatedProps={animatedProps} /&gt;
</code></pre>
<h3 id="withtiming"><a class="header" href="#withtiming"><code>withTiming</code></a></h3>
<p>Merupakan fungsi animasi yang dimiliki oleh Reanimated dan berfungsi untuk membuat nilai <code>shared value</code> berubah secara bertahap dari nilai awal ke nilai target selama periode tertentu. Selain itu, kita juga dapat mengatur kecepatan animasi melalui <code>Easing</code>.</p>
<pre><code class="language-tsx">import { Easing, ReduceMotion } from 'react-native-reanimated';

withTiming(shared_value.value, {
    duration: 1000,  // dalam milisecond
    easing: Easing.inOut(Easing.quad),  
    reduceMotion: ReduceMotion.System,
})
</code></pre>
<h3 id="withspring"><a class="header" href="#withspring"><code>withSpring</code></a></h3>
<p>Merupakan fungsi yang digunakan untuk membuat animasi yang meniru gerakan pegas. Artinya, nilai akan bergerak menuju target (toValue), namun dengan sedikit pantulan (overshoot) dan perlambatan alami di akhir.</p>
<pre><code class="language-tsx">withSpring(sv.value, {
    stiffness: 900,
    damping: 120,
    mass: 4,
    overshootClamping: false,
    reduceMotion: ReduceMotion.System,
})
</code></pre>
<p><em>Penjelasan</em></p>
<ul>
<li><code>stiffness</code>: Kekuatan pegas (semakin besar = gerakan lebih cepat dan kuat) (default = 900)</li>
<li><code>damping</code>: Mengatur seberapa cepat gerakan melambat (semakin besar = lebih cepat berhenti) (default = 120)</li>
<li><code>mass</code>: Berat objek (semakin besar = gerakan lebih lambat) (default = 4)</li>
<li><code>overshootClamping</code>: Jika true, tidak akan memantul melewati target (default = false)</li>
</ul>
<p>Konfigurasi lainnya dari fungsi <code>withSpring</code> dapat dilihat pada <a href="https://docs.swmansion.com/react-native-reanimated/docs/animations/withSpring">laman resmi</a></p>
<h3 id="withdecay"><a class="header" href="#withdecay"><code>withDecay</code></a></h3>
<p>Digunakan untuk membuat animasi yang terus bergerak ke arah tertentu dengan kecepatan awal, lalu melambat hingga berhenti secara alami.</p>
<pre><code class="language-tsx">withDecay({
    velocity: event.velocityX,
    deceleration: 0.998,
    clamp: [-300, 300],
    velocityFactor: 1,
    rubberBandEffect: true,
    rubberBandFactor: 0.6,
    reduceMotion: ReduceMotion.System,
})
</code></pre>
<p><em>Penjelasan</em></p>
<ul>
<li><code>velocity</code>: kecepatan awal gerakan (default = 0).</li>
<li><code>deceleration</code>: Nilai mendekati 1 membuat animasi melambat dengan lembut dan berjalan lebih lama, sedangkan nilai kecil (misal 0.95) membuat animasi cepat berhenti (default = 0.998).</li>
<li><code>clamp</code>: Batas minimum dan maksimum posisi. Ketika posisi hasil decay melewati nilai ini, maka animasi akan berhenti di batas tersebut. Contoh [-300, 300] artinya posisi hanya boleh di antara -300 hingga 300.</li>
<li><code>velocityFactor</code>: Faktor pengali untuk kecepatan awal (<code>velocity</code>). Gunanya untuk mengatur seberapa jauh atau seberapa cepat gerakan decay dimulai tanpa harus mengubah velocity langsung (default = 1).</li>
<li><code>rubberBandEffect</code>: menambahkan efek pantulan yang lembut seperti "karet" (default = false)</li>
<li><code>rubberBandFactor</code>: Mengatur seberapa kuat efek pantulan pada <code>rubberBandEffect</code>. Semakin kecil maka pantulan lebih kuat sedangkan semakin besar (lebih elastis) maka pantulan lebih kaku (cepat berhenti) (default = 0.6).</li>
</ul>
<h3 id="withsequence"><a class="header" href="#withsequence"><code>withSequence</code></a></h3>
<p>Digunakan untuk menjalankan beberapa animasi satu per satu (secara berurutan) bukan bersamaan. Umumnya digunakan bersama <code>withTiming()</code>, <code>withSpring()</code>, dan <code>withDecay()</code> untuk membentuk efek kompleks.</p>
<pre><code class="language-tsx">withSequence(animation1, animation2, animation3, ...)
</code></pre>
<p><em>Penjelasan</em>
Setiap <code>animation</code> bisa berupa <code>withTiming()</code>, <code>withSpring()</code>, <code>withDecay()</code> atau bahkan <code>withDelay()</code> jika ingin memiliki jeda waktu di antaranya.</p>
<pre><code class="language-tsx">translateX.value = withSequence(
  withTiming(100, { duration: 500 }),
  withTiming(-100, { duration: 500 }),
  withTiming(0, { duration: 500 })
);
</code></pre>
<h3 id="withrepeat"><a class="header" href="#withrepeat"><code>withRepeat</code></a></h3>
<p>Digunakan untuk menjalankan animasi secara berulang, baik dalam jumlah tertentu maupun tanpa batas (infinite loop). Biasanya digunakan untuk membuat animasi loading atau spinner.</p>
<pre><code class="language-tsx">withRepeat(animation, numberOfReps?, reverse?, callback?)
</code></pre>
<p><em>Penjelasan</em></p>
<ul>
<li>animation: animasi yang akan diulang (biasanya menggunakan <code>withTiming</code> atau <code>withSpring</code>)</li>
<li>numberOfReps: jumlah pengulangan animasi. Gunakan -1 untuk infinite loop. (default = 2)</li>
<li>reverse: jika <code>true</code>, animasi akan membalik arah setiap kali mengulang. (default = <code>false</code>)</li>
<li>callback: fungsi yang dipanggil ketika animasi selesai (jika finite)</li>
</ul>
<pre><code class="language-tsx">withRepeat(
    withTiming(200, { duration: 1000 }),
    2,
    false,
    () =&gt; {},
    ReduceMotion.System,
)
</code></pre>
<h3 id="withdelay"><a class="header" href="#withdelay"><code>withDelay</code></a></h3>
<p>Digunakan untuk memberikan penundaan (delay) pada animasi sebelum dijalankan. Bisanya dipakai untuk menjalankan animasi yang berurutan atau bisa juga digunakan untuk memberi jeda antar efek.</p>
<pre><code class="language-tsx">withDelay(delay, animation)
</code></pre>
<p><em>Penjelasan</em></p>
<ul>
<li>delay: durasi penundaan dalam milidetik sebelum animasi dimulai</li>
<li>animation: animasi yang ingin dijalankan setelah delay (biasanya <code>withTiming</code>, <code>withSpring</code>, dll)</li>
</ul>
<pre><code class="language-tsx">opacity.value = withDelay(
    1000, // tunggu 1 detik
    withTiming(1, { duration: 1000 })
);
</code></pre>
<p>Konsep penting lainnya dari Reanimated dapat diakses pada <a href="https://docs.swmansion.com/react-native-reanimated">laman resmi</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="animated-api.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="animated-api.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
